!function e(n,t,r){function o(a,u){if(!t[a]){if(!n[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var s=t[a]={exports:{}};n[a][0].call(s.exports,function(e){var t=n[a][1][e];return o(t?t:e)},s,s.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=function(){function e(n){r(this,e),this.data=n,this.walk(n),this.subscribers=[]}return i(e,[{key:"walk",value:function(e){var n=this;Object.keys(e).forEach(function(t){n.defineReactive(n.data,t,e[t])})}},{key:"defineReactive",value:function(e,n,t){var r=this;u(t),Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){return console.log("你访问了 "+n),t},set:function(e){if(e!==t){u(e);var o=r.getIndex(n);o>-1&&r.subscribers[o].cb(e),console.log("你设置了 "+n+", 新的值为 "+JSON.stringify(e)),t=e}}})}},{key:"$watch",value:function(e,n){if("function"!=typeof n)return void console.log("you need pass a function as callback");var t=this.getIndex(e);return t>-1?(console.warn("The watcher '"+e+"' already exists and will be overwritten"),void(this.subscribers[t].cb=n)):void this.subscribers.push({key:e,cb:n})}},{key:"getIndex",value:function(e){for(var n=this.subscribers.length,t=-1;n--;)if(this.subscribers[n].key==e){t=n;break}return t}}]),e}(),u=function(e){if(e&&"object"==("undefined"==typeof e?"undefined":o(e)))return new a(e)};window.Observer=a;var c=new a({name:"youngwind",age:25});c.data.name={lastName:"liang",firstName:"shaofeng"};c.data.name.lastName;c.data.name.firstName="lalala";var f=new a({name:"youngwind",age:25});f.$watch("age",function(e){console.log("我的年纪变了，现在已经是："+e+"岁了")}),f.data.age=100},{}]},{},[1]);
//# sourceMappingURL=main.js.map
